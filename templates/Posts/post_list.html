{% extends 'base.html' %}

{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/post_list.css' %}">
{% endblock %}

{% block content %}
<h2>Latest Posts</h2>
<div class="posts-container">
    {% for post in posts %}
        <div class="post-card">
            {% if post.original_post %}
                <p class="shared-label">
                    Shared from <a href="{% url 'profile' username=post.original_post.author.username %}">
                    {{ post.original_post.author.username }}'s</a> post.
                </p>
            {% endif %}

            <p class="post-meta">
                Posted by {{ post.author.username }} on {{ post.created_at|date:"F j, Y, P" }}
            </p>

            {% if post.image %}
                <img src="{{ post.image.url }}" alt="Post image">
            {% endif %}

            <p class="caption">{{ post.caption }}</p>

            <a href="{% url 'share_post' post.id %}" class="share-btn">Share</a>
        </div>
    {% empty %}
        <p>No posts to display yet.</p>
    {% endfor %}
</div>
{% endblock %}
